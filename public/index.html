<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="root">
    <ul>
        <li v-for="flower in flowers">{{ flower.name }} {{ flower.level }} {{flower.questionNumber}} </li>
    </ul>

    <img src='img/blasippa.jpg' alt="">

    <div>

        {{flowers[0].name}}
        <form>
            <input type="radio" value="{{flower.questionNumber}}" name="answer">
            <input type="radio" value="variable" name="answer">
            <input type="radio" value="variable" name="answer">
            <input type="submit" value="Submit">
        </form>

        <button v-on:click="getAlternatives">Start</button>
        {{alt1}}
        {{alt2}}
        {{alt3}}
    </div>

</div>


<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

<script>
    var app = new Vue({
        el: '#root',
        data: {
            index: 0,
            flowers: [],
            alt1: "",
            alt2: "",
            alt3: "",
            answer: ""

        },
        mounted(){
            fetch('http://127.0.0.1:3000/api/flower/')
                .then((response) => {
                    return response.json();
                })
                .then((data) => {

                    this.flowers = data.flower;
                });
        },
        methods:{
            getFlower(){
                return this.flowers[1].name
            },
            getAlternatives(){
                this.alt1 = this.flowers[Math.floor(Math.random() * 10)+1].name
                this.alt2 = this.flowers[Math.floor(Math.random() * 10)+1].name
                this.alt3 = this.flowers[this.index++].name
                if(this.alt1===this.alt2 || this.alt1 === this.alt3 || this.alt2 === this.alt3){
                    this.index--
                    this.getAlternatives()
                }
                this.answer = this.alt3

            }

        }
    })

</script>
</body>
</html>